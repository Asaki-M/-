<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script src="js/jquery-3.4.1.min.js" type="text/javascript" charset="utf-8"></script>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			.bg{
				width: 100%;
				height: 1000px;
				position: absolute;
				z-index: -999;
				background: url(http://139.9.60.105/blogimg/backgroundImage/9.webp) no-repeat;
				background-size: cover;
				background-attachment: fixed;
			}
			.bg.active{
				animation: show 5s;
				animation-fill-mode: forwards;
			}
			@keyframes show{
				from{opacity: 0;}
				to{opacity: 1;display: block;}
			}
		</style>
	</head>
	<body>
		<div id="app"></div>
		<script type="text/javascript">
			$(function(){
				let $app = $('#app');
				let idx = 0;
				for (let i = 0; i < 10; i++) {
				 	let $bgDiv = '<div class="bg"></div>';
					$app.append($bgDiv);
				}
				$('.bg').each((i,v)=>{
					$(v).css({
						backgroundImage:`url(http://139.9.60.105/blogimg/backgroundImage/${i+1}.webp)`,
						opacity:0
					});
					if(i == 0){
						$(v).css({
							opacity:1
						});
					}
				});
				setInterval(()=>{
					idx++
					if (idx == 10) {
						$($('.bg')[idx - 1]).removeClass('active');
						$($('.bg')[idx - 2]).removeClass('active');
						idx = 1
					}
					if($($('.bg')[idx - 2])){
						$($('.bg')[idx - 2]).removeClass('active');
					}
					$($('.bg')[idx]).addClass('active');
				},20000)
			})
		</script>
	</body>
</html>
